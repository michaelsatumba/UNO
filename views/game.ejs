<%- include("header") -%>
<script defer src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script defer src="/js/game-cards.js" charset="utf-8"></script>

<body class="text-center">

    <div id="game-page-container">

        <div class="home">
            <a href="/" class="create">Home</a>
        </div>
    
        <div class="lobby">
            <a href="/lobby" class="create">Lobby</a>
        </div>
    
        <div class="rules">
            <a href="/rules" class="create">Rules</a>
        </div>
    
        <div class="logout">
            <a href="/users/logout" class="create">Log Out</a>
        </div>
    
        <div class="game-image">
            <img class="mb-4" src="../images/uno.png" alt="" width="300" height="300">
        </div>

        <div class="form-game">

            <div id="winner"></div>
    
            <div id="welcome-game-user">
                <h1>Welcome <%= name %></h1>
            </div>
    
            <% if(id) { %>
                <h1>Welcome to Game <%= id %></h1>
            <% } %>
    
            <div id="current-user">
                <!-- Player 1 -->
                <h1>User</h1>
            </div>

            <div id="game-running">
                <!-- Player 1 Deck -->
                <!-- 7 random cards -->
                <div id="mydeck" class="player1Deck"></div>
        
                <div class="game-middle">
                    <!-- Draw card button -->
                    <div id="draw-card">
                        <button class="btn btn-primary">Draw Card</button>
                    </div>
        
                    <!-- Discard pile (shows active_discard) -->
                    <div id="discarded" class="middle-card"></div>
        
                    <div id="draw-pile-deck" class="middle-card">
                        <img src="../assets/card_deck.png" alt="draw-pile-deck">
                    </div>
        
                    <!-- Uno button (OPTIONAL) -->
                    <button type="button" class="btn btn-danger" onclick="uno()">Uno</button>
                </div>
        
                <div class="enemies">
                    <!-- Player 2 Deck -->
                    <div id="deck2" class="player2Deck"></div>
                    <div class="player2">
                        <h2>Player 2</h2>
                    </div>
                    
                    <!-- Player 3 Deck -->
                    <div id="deck3" class="player2Deck"></div>
                    <div class="player2">
                        <h2>Player 3</h2>
                    </div>
        
                    <!-- Player 4 Deck -->
                    <div id="deck4" class="player2Deck"></div>
                    <div class="player2">
                        <h2>Player 4</h2>
                    </div>
                </div>
            </div>
    
            <div id="game-chat-container">
                <!-- Container where active chat history is stored. -->
                <div class="chat-messages"></div>    
                <!-- Container where user can type and send a message in chat. -->
                <div id="game-chatbox" class="chatbox">
                    <form id="game-chat-form">
                            <input id="gamemsg" type="text" placeholder="Enter message" required>
                        <button class="chat-btn btn btn-success">Send</button>
                    </form>
                </div>
            </div>

    </div>
    
</body>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/game.js" charset="utf-8"></script>

<%- include("footer") -%>